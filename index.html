<!DOCTYPE html>
<html>
<head>
    <title>My Practical Exam Codes</title>
    <style>
        body {
            font-family: monospace;
            background-color: #f4f4f4;
            padding: 20px;
        }
        h1 {
            color: #333;
        }
        pre {
            background-color: #fff;
            border: 1px solid #ccc;
            padding: 10px;
            overflow-x: auto;
        }
    </style>
</head>
<body>
    <h1>IPC server</h1>
    <pre>
#include<stdio.h>
#include<unistd.h>
#include<stdlib.h>
#include<string.h>
#include<sys/types.h>
#include<sys/msg.h>
#include<sys/ipc.h>
int main()
{
struct msgbuf{
	long mtype;
	char mtext[100];
	}send,rcv;
int qid,len;
qid=msgget((key_t)25,IPC_CREAT|0666);
if(qid<0){
	perror("msgget failed");
	exit(1);
}
printf("\nEnter message for TTY-2::");
scanf("%[^\n]s",send.mtext);
send.mtype=1;
len=strlen(send.mtext);
if(msgsnd(qid,&send,len,0)==-1){
	perror("msgsnd failed");
	exit(1);
	
}
if(msgrcv(qid,&rcv,100,2,0)==-1){
	perror("message failed");
	exit(0);
}
printf("\n Message from TTY-2 is %s \n",rcv.mtext);
msgctl(qid, IPC_RMID, NULL);
}
    </pre>

    <h1>IPC client</h1>
    <pre>
#include<stdio.h>
#include<unistd.h>
#include<stdlib.h>
#include<string.h>
#include<sys/types.h>
#include<sys/msg.h>
#include<sys/ipc.h>
int main(){
struct msgbuf{
	long mtype;
	char mtext[100];
	}send,rcv;
int qid,len;
qid=msgget((key_t)25,IPC_CREAT|0666);
if(qid<0){
	perror("msgget failed");
	exit(1);
}
if(msgrcv(qid,&rcv,100,1,0)==-1){
	perror("Messae send failed");
	exit(1);
}
printf("message from TTY-1: %s\n",rcv.mtext);
printf("Enter message for TTY-1::");
scanf("%[^\n]s",send.mtext);
send.mtype=2;
len=strlen(send.mtext);
if(msgsnd(qid,&send,len,0)==-1){
	perror("Message Failed");
	exit(0);
}	
}
    </pre>
  
    <h1>IPC client</h1>
    <pre>

    </pre>

</body>
</html>
